http://khayyam.developpez.com/articles/cpp/multithreads/